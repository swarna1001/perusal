{% extends "accounts/base.html" %}

{% load static %}

{% load crispy_forms_tags %}
{% block cssfiles %}

    <link rel="stylesheet" type="text/css" href="{% static 'accounts/test_homepage_style.css' %}"/>

{% endblock cssfiles %}

{% block content %}
    <!-- ############## till here COMMON TEMPLATE FOR ALL THE PAGES  ################# -->

                <!-- ROW 3  READS AND SUGGESTIONS-->
                <div class="row my-row top-row">
                    
                    <div class="col-md-12 col-sm-8 my-col my-col-31">
                       
                        <div class="tabs">
                            <input type="radio" name="tabs" id="tabone" checked="checked">
                            <label for="tabone" id="tab-heading-1" class="text-class">Top-Reads</label>
                            <div class="tab">
                                <div class="top-reads">

                                {% for book in sugg_books %}
                                    <div class="card side-card">
                                    <a href="/accounts/add-book/{{ book.id }}/"> 
                                        <img class="card-img-top" src="{{ book.cover_img.url }}" width="78" height="125" />  
                                    </a>

                                    </div>

                                {% endfor %}

                                </div>
                            </div>
  
                            <input type="radio" name="tabs" id="tabtwo" >
                            <label for="tabtwo" id="tab-heading-2" class="text-class">Suggested</label>
                            <div class="tab">
                                <div class="suggested ">                                    
                                    {% if location_suggest %} 
                                        {% for sugg_loc in location_suggest %}
                                            <div class="card side-card">
                                                <a href="{{ sugg_loc.get_absolute_url }}"><img class="suggest-image" src="{{ sugg_loc.image.url }}" alt=""/></a>
                                                <a class="text-dark" href="{{ sugg_loc.get_absolute_url }}"><b> {{ sugg_loc }} </b></a>

                                                <small>
                                                    <a class="btn btn-info btn-sm profile-btn " href="/accounts/friend-request/send/{{ sugg_loc.user.id }}/" > Request </a>
                                                </small>
                                            </div>
                                        {% endfor %}
                                    {% endif %} 


                                    {% if not_friend_neither_location %} 
                                        {% for sugg_user in not_friend_neither_location %}
                                            <div class="card side-card ">
                                                <a href="{{ sugg_user.get_absolute_url }}"><img class="suggest-image" src="{{ sugg_user.image.url }}" class="rounded mr-2" alt=""/></a>
                                                <a class="text-dark" href="{{ sugg_user.get_absolute_url }}"><b> {{ sugg_user }} </b></a>

                                                <small>
                                                    <a class="btn btn-info btn-sm profile-btn " href="/accounts/friend-request/send/{{ sugg_user.user.id }}/" > Request </a>
                                                </small>
                                            </div>
                                        {% endfor %}
                                    {% endif %} 
                                </div>                                
                            </div>
  
                        </div>
 
                    </div>              
                </div> <!-- READS AND SUGGESTIONS ROW END -->
<hr/>

                <!-- ROW 4   CONTENT ROW  -->
                <div class="row my-row row-4 justify-content-center">    
                    <div class="col-md-8 col-sm-8 my-col my-col-41 ">
                        

                        {% for post in posts %}
                            {% if post.add_image %}
                                <div class="content-card image-card my-3">
                                <div class="card-body">
                                    <a href="{{ post.user_name.profile.get_absolute_url }}"><img
                                    src="{{ post.user_name.profile.image.url }}"
                                    class="rounded-circle"
                                            width="80" height="80" alt=""/></a>
                                    <a class="text-dark post-username" href="{{ post.user_name.profile.get_absolute_url }}"
                                    ><b>{{ post.user_name }}</b></a>
                                    
                                    <br /><br />
                                    <p class="card-text text-dark">{{ post.text_post }}</p>

                                    <br />
                                    <img class="card-img-post" src="{{ post.add_image.url }}" width="200" height="300" />
                                    <img src="{{ post.url }}" alt="">
                                    <br /><small class="text-muted"
                                    >{{ post.date_posted }}</small>

                                    </div>

                                </div>
                            {% else %}

                                <div class="content-card text-card my-3">
                                <div class="card-body">
                                    <a href="{{ post.user_name.profile.get_absolute_url }}"><img
                                    src="{{ post.user_name.profile.image.url }}"
                                    class="rounded-circle"
                                            width="80" height="80" alt=""/></a>
                                    <a class="text-dark post-username" href="{{ post.user_name.profile.get_absolute_url }}"
                                    ><b>{{ post.user_name }}</b></a>
                                    
                                    <br /><br />
                                    <p class="card-text text-dark">{{ post.text_post }}</p>
                                    <br /><small class="text-muted"
                                    >{{ post.date_posted }}</small>

                                    </div>
                                </div>

                            {% endif %}

                        {% endfor %}

                    </div>  




                                        
                    <div class="col-md-2 my-col my-col-42">

                         <div id="mybutton">
                        
                        <form action="{% url 'feed:post-create' %}" method="post">
                            {% csrf_token %}
                            <button class="btn btn-danger btn-md custom-btn my-2 my-sm-0 feedback" type="submit"> <i class="fas fa-plus-circle "></i>Add Post
                            </button>
                        </form>

                        </div>



                    </div>

                </div>

<style>

    .custom-btn{
  		background: #cf6060;
	}

    .card-img-post {
        width: 80%;
    }


</style>
{% endblock content %}
